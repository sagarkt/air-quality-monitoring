(this["webpackJsonpair-quality-monitoring"]=this["webpackJsonpair-quality-monitoring"]||[]).push([[0],{34:function(t,e,n){},36:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n.n(c),a=n(25),o=n.n(a),r=n(22),s=(n(34),n(2)),l=n(12),j=n(13),d=n(15),u=n(14),h=n(26),x=n(1),m=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(h.a,{children:[Object(x.jsx)("h1",{children:"Air Quality Index Monioring"}),Object(x.jsx)("p",{children:"View City wise AQI"})]})}}]),n}(c.Component),b=n(27),p=n(28),y=n(19),O=n(16),f=[{min:0,max:51,category:"Good",colorCode:"#55A84F"},{min:51,max:101,category:"Satisfactory",colorCode:"#A3C853"},{min:101,max:201,category:"Moderate",colorCode:"#FFF834"},{min:201,max:301,category:"Poor",colorCode:"#F29C33"},{min:301,max:401,category:"Very Poor",colorCode:"#E93F33"},{min:401,max:501,category:"Severe",colorCode:"#AF2D24"}],g=n(18),v=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"formatAQI",value:function(t){var e=f.find((function(e){return e.min<=t&&e.max>t})),n=Math.round(100*(t+Number.EPSILON))/100;return Object(x.jsx)("span",{style:{color:e.colorCode},children:n})}},{key:"render",value:function(){return Object(x.jsx)(b.a,{children:Object(x.jsx)(O.a,{border:"primary",children:Object(x.jsx)(O.a.Body,{children:Object(x.jsxs)(p.a,{className:"justify-content-md-center",children:[Object(x.jsx)(y.a,{xs:"6",sm:"6",md:"2",lg:"2",xl:"2",children:Object(x.jsx)(O.a.Title,{children:this.props.city.city})}),Object(x.jsx)(y.a,{xs:"6",sm:"6",md:"2",lg:"2",xl:"2",children:Object(x.jsxs)(O.a.Text,{children:["AQI: ",this.formatAQI(this.props.city.aqi)]})}),Object(x.jsx)(y.a,{xs:"12",sm:"12",md:"4",lg:"4",xl:"4",children:Object(x.jsxs)(g.Sparklines,{data:this.props.city.old,limit:"30",height:"50",children:[Object(x.jsx)(g.SparklinesLine,{color:"#1c8cdc"}),Object(x.jsx)(g.SparklinesSpots,{}),Object(x.jsx)(g.SparklinesReferenceLine,{type:"max"})]})}),Object(x.jsx)(y.a,{xs:"12",sm:"12",md:"4",lg:"4",xl:"4",children:Object(x.jsxs)(O.a.Text,{children:["Updated ",this.props.city.lastUpdatedDate]})})]})})})})}}]),n}(c.Component);function C(t){var e=Math.floor((new Date-t)/1e3);return e<60?"A few seconds ago":Math.floor(e/60)<1?"A minute ago":void function(t){var e=t.getHours(),n=t.getMinutes(),c=e>=12?"pm":"am";e=(e%=12)||12,n=n<10?"0"+n:n}(t)}var w=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).ws=new WebSocket("ws://city-ws.herokuapp.com"),t.state={allCities:{}},t}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(e){var n=JSON.parse(e.data),c=t.state.allCities,i=new Date;n.forEach((function(t){c[t.city]=c[t.city]||{},c[t.city].old=c[t.city].old||[],c[t.city].old.push(t.aqi),c[t.city].latest={city:t.city,aqi:t.aqi,lastUpdatedDate:C(i),old:c[t.city].old}})),t.setState({allCities:c})},this.ws.onclose=function(){console.log("disconnected")}}},{key:"render",value:function(){var t=[];for(var e in this.state.allCities)t.push(Object(x.jsx)(v,{city:this.state.allCities[e].latest},this.state.allCities[e].latest.city));return t}}]),n}(c.Component);n(36);var k=function(){return Object(x.jsxs)("main",{children:[Object(x.jsx)(m,{}),Object(x.jsxs)(s.c,{children:[Object(x.jsx)(s.a,{path:"/",component:w,exact:!0}),Object(x.jsx)(s.a,{path:"/air-quality-monitoring/",component:w,exact:!0})]})]})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),i(t),a(t),o(t)}))};n(45);o.a.render(Object(x.jsx)(r.a,{children:Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(k,{})})}),document.getElementById("root")),S()}},[[46,1,2]]]);
//# sourceMappingURL=main.e66838ee.chunk.js.map